{"version":3,"file":"object-model.js","sources":["../src/helpers.js","../src/definition.js","../src/basic-model.js","../src/model.js","../src/object-model.js","../src/devtool-formatter.js","../src/array-model.js","../src/function-model.js","../src/map-model.js","../src/set-model.js"],"sourcesContent":["import Model from \"./model\"\r\n\r\nexport const\r\n\t_constructor = \"_constructor\",\r\n\t_validate = \"_validate\",\r\n\r\n\tObjectProto     = Object.prototype,\r\n\tbettertypeof    = x => ObjectProto.toString.call(x).match(/\\s([a-zA-Z]+)/)[1],\r\n\tgetProto        = Object.getPrototypeOf,\r\n\r\n\thas             = (o, prop) => o.hasOwnProperty(prop),\r\n\tis              = (Constructor, obj) => obj instanceof Constructor,\r\n\tisString        = s => typeof s === \"string\",\r\n\tisFunction      = f => typeof f === \"function\",\r\n\tisObject        = o => typeof o === \"object\",\r\n\tisArray         = a => Array.isArray(a),\r\n\tisPlainObject   = o => o && isObject(o) && getProto(o) === ObjectProto,\r\n\tisModelInstance = i => i && is(Model, getProto(i).constructor),\r\n\r\n\tproxify      = (val, traps) => new Proxy(val, traps),\r\n\tproxifyFn    = (fn, apply) => proxify(fn, {apply}),\r\n\tproxifyModel = (val, model, traps) => proxify(val, Object.assign({ getPrototypeOf: () => model.prototype }, traps)),\r\n\r\n\tcannot   = (msg, model) => { model.errors.push({message: \"cannot \" + msg}) },\r\n\tgetPath  = (path, key) => path ? path + '.' + key : key,\r\n\tmapProps = (o, fn) => Object.keys(o).map(fn)\r\n\r\n\r\nexport let merge = (target, src = {}, deep) => {\r\n\tfor (let key in src) {\r\n\t\tif (deep && isPlainObject(src[key])) {\r\n\t\t\tlet o = {}\r\n\t\t\tmerge(o, target[key], deep)\r\n\t\t\tmerge(o, src[key], deep)\r\n\t\t\ttarget[key] = o\r\n\t\t} else {\r\n\t\t\ttarget[key] = src[key]\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport let define = (obj, key, value, enumerable = false) => {\r\n\tObject.defineProperty(obj, key, {value, enumerable, writable: true, configurable: true})\r\n}\r\n\r\nexport let setConstructor = (model, constructor) => {\r\n\tObject.setPrototypeOf(model, constructor.prototype)\r\n\tdefine(model, \"constructor\", constructor)\r\n}\r\n\r\nexport let extend = (child, parent, props) => {\r\n\tchild.prototype = Object.assign(Object.create(parent.prototype, {\r\n\t\tconstructor: {\r\n\t\t\tvalue: child,\r\n\t\t\twritable: true,\r\n\t\t\tconfigurable: true\r\n\t\t}\r\n\t}), props)\r\n\tObject.setPrototypeOf(child, parent)\r\n}\r\n\r\nexport let format = (obj, stack = []) => {\r\n\tif (stack.length > 15 || stack.includes(obj)) return '...'\r\n\tif (obj === null || obj === undefined) return String(obj)\r\n\tif (isString(obj)) return `\"${obj}\"`\r\n\tif (is(Model, obj)) return obj.toString(stack)\r\n\r\n\tstack.unshift(obj)\r\n\r\n\tif (isFunction(obj)) return obj.name || obj.toString()\r\n\tif (is(Map, obj) || is(Set, obj)) return format([...obj])\r\n\tif (isArray(obj)) return `[${obj.map(item => format(item, stack)).join(', ')}]`\r\n\tif (obj.toString !== Object.prototype.toString) return obj.toString()\r\n\tif (obj && isObject(obj)) {\r\n\t\tlet props  = Object.keys(obj),\r\n\t\t    indent = '\\t'.repeat(stack.length)\r\n\t\treturn `{${props.map(\r\n\t\t\tkey => `\\n${indent + key}: ${format(obj[key], stack.slice())}`\r\n\t\t).join(',')} ${props.length ? `\\n${indent.slice(1)}` : ''}}`\r\n\t}\r\n\r\n\treturn String(obj)\r\n}","import {\n\t_validate,\n\tformat,\n\tis,\n\tisArray,\n\tisFunction,\n\tisModelInstance,\n\tisPlainObject,\n\tgetPath,\n\tmapProps\n} from \"./helpers\"\n\nimport {Model, stackError} from \"./model\"\n\nexport let parseDefinition = (def) => {\n\tif (isPlainObject(def)) {\n\t\tmapProps(def, key => { def[key] = parseDefinition(def[key]) })\n\t}\n\telse if (!isArray(def)) return [def]\n\telse if (def.length === 1) return [...def, undefined, null]\n\n\treturn def\n}\n\nexport let formatDefinition = (def, stack) => parseDefinition(def).map(d => format(d, stack)).join(\" or \")\n\nexport let extendDefinition = (def, newParts = []) => {\n\tif (!isArray(newParts)) newParts = [newParts]\n\tif (newParts.length > 0) {\n\t\tdef = newParts\n\t\t\t.reduce((def, ext) => def.concat(ext), isArray(def) ? def.slice() : [def]) // clone to lose ref\n\t\t\t.filter((value, index, self) => self.indexOf(value) === index) // remove duplicates\n\t}\n\n\treturn def\n}\n\nexport let checkDefinition = (obj, def, path, errors, stack) => {\n\tlet indexFound = stack.indexOf(def)\n\tif (indexFound !== -1 && stack.indexOf(def, indexFound + 1) !== -1)\n\t\treturn obj //if found twice in call stack, cycle detected, skip validation\n\n\tobj = cast(obj, def)\n\n\tif (is(Model, def)) {\n\t\tdef[_validate](obj, path, errors, stack.concat(def))\n\t}\n\telse if (isPlainObject(def)) {\n\t\tmapProps(def, key => {\n\t\t\tcheckDefinition(obj ? obj[key] : undefined, def[key], getPath(path, key), errors, stack)\n\t\t})\n\t}\n\telse {\n\t\tlet pdef = parseDefinition(def)\n\t\tif (pdef.some(part => checkDefinitionPart(obj, part, path, stack)))\n\t\t\treturn obj\n\n\t\tstackError(errors, def, obj, path)\n\t}\n\n\treturn obj\n}\n\nexport let checkDefinitionPart = (obj, def, path, stack) => {\n\tif (obj == null) return obj === def\n\tif (isPlainObject(def) || is(Model, def)) { // object or model as part of union type\n\t\tlet errors = []\n\t\tcheckDefinition(obj, def, path, errors, stack)\n\t\treturn !errors.length\n\t}\n\tif (is(RegExp, def)) return def.test(obj)\n\tif (def === Number || def === Date) return obj.constructor === def && !isNaN(obj)\n\treturn obj === def\n\t\t|| (isFunction(def) && is(def, obj))\n\t\t|| obj.constructor === def\n}\n\nexport let checkAssertions = (obj, model, path, errors = model.errors) => {\n\tfor (let assertion of model.assertions) {\n\t\tlet result\n\t\ttry {\n\t\t\tresult = assertion.call(model, obj)\n\t\t} catch (err) {\n\t\t\tresult = err\n\t\t}\n\t\tif (result !== true) {\n\t\t\tlet onFail = isFunction(assertion.description) ? assertion.description : (assertionResult, value) =>\n\t\t\t\t`assertion \"${assertion.description}\" returned ${format(assertionResult)} `\n\t\t\t\t+`for ${path ? path+\" =\" : \"value\"} ${format(value)}`\n\t\t\tstackError(errors, assertion, obj, path, onFail.call(model, result, obj, path))\n\t\t}\n\t}\n}\n\nexport let cast = (obj, defNode = []) => {\n\tif (!obj || isPlainObject(defNode) || isModelInstance(obj))\n\t\treturn obj // no value or not leaf or already a model instance\n\n\tlet def = parseDefinition(defNode),\n\t    suitableModels = []\n\n\tfor (let part of def) {\n\t\tif (is(Model, part) && part.test(obj))\n\t\t\tsuitableModels.push(part)\n\t}\n\n\tif (suitableModels.length === 1)\n\t\treturn suitableModels[0](obj) // automatically cast to suitable model when explicit\n\n\tif (suitableModels.length > 1)\n\t\tconsole.warn(`Ambiguous model for value ${format(obj)}, could be ${suitableModels.join(\" or \")}`)\n\n\treturn obj\n}","import {extend, is, setConstructor} from \"./helpers\"\nimport {extendDefinition} from \"./definition\"\nimport {extendModel, initModel, Model} from \"./model\"\n\n\nexport default function BasicModel(def) {\n\tlet model = function (val = model.default) {\n\t\treturn model.validate(val) ? val : undefined\n\t}\n\n\tsetConstructor(model, BasicModel)\n\tinitModel(model, def)\n\treturn model\n}\n\nextend(BasicModel, Model, {\n\textend(...newParts) {\n\t\tlet child = extendModel(new BasicModel(extendDefinition(this.definition, newParts)), this)\n\t\tfor (let part of newParts) {\n\t\t\tif (is(BasicModel, part)) child.assertions.push(...part.assertions)\n\t\t}\n\n\t\treturn child\n\t}\n})","import {_constructor, _validate, bettertypeof, define, extend, format, isArray, isPlainObject} from \"./helpers\"\r\nimport {checkAssertions, checkDefinition, formatDefinition} from \"./definition\"\r\nimport BasicModel from \"./basic-model\"\r\nimport ObjectModel from \"./object-model\"\r\n\r\nexport function Model(def, params) {\r\n\treturn isPlainObject(def) ? new ObjectModel(def, params) : new BasicModel(def)\r\n}\r\n\r\nObject.assign(Model.prototype, {\r\n\tname: \"Model\",\r\n\tassertions: [],\r\n\r\n\tconventionForConstant: key => key.toUpperCase() === key,\r\n\tconventionForPrivate: key => key[0] === \"_\",\r\n\r\n\ttoString(stack){\r\n\t\treturn formatDefinition(this.definition, stack)\r\n\t},\r\n\r\n\tas(name){\r\n\t\tdefine(this, \"name\", name);\r\n\t\treturn this\r\n\t},\r\n\r\n\tdefaultTo(val){\r\n\t\tthis.default = val\r\n\t\treturn this\r\n\t},\r\n\r\n\t[_constructor]: o => o,\r\n\r\n\t[_validate](obj, path, errors, stack){\r\n\t\tcheckDefinition(obj, this.definition, path, errors, stack)\r\n\t\tcheckAssertions(obj, this, path, errors)\r\n\t},\r\n\r\n\tvalidate(obj, errorCollector){\r\n\t\tthis[_validate](obj, null, this.errors, [])\r\n\t\treturn !unstackErrors(this, errorCollector)\r\n\t},\r\n\r\n\ttest(obj){\r\n\t\tlet failed,\r\n\t\t    initialErrorCollector = this.errorCollector\r\n\r\n\t\tthis.errorCollector = () => {\r\n\t\t\tfailed = true\r\n\t\t}\r\n\r\n\t\tnew this(obj) // may trigger this.errorCollector\r\n\r\n\t\tthis.errorCollector = initialErrorCollector\r\n\t\treturn !failed\r\n\t},\r\n\r\n\terrorCollector(errors){\r\n\t\tlet e = new TypeError(errors.map(e => e.message).join('\\n'))\r\n\t\te.stack = e.stack.replace(/\\n.*object-model(.|\\n)*object-model.*/, \"\") // blackbox objectmodel in stacktrace\r\n\t\tthrow e\r\n\t},\r\n\r\n\tassert(assertion, description = format(assertion)){\r\n\t\tdefine(assertion, \"description\", description);\r\n\t\tthis.assertions = this.assertions.concat(assertion)\r\n\t\treturn this\r\n\t}\r\n})\r\n\r\nexport let initModel = (model, def) => {\r\n\tmodel.definition = def\r\n\tmodel.assertions = [...model.assertions]\r\n\tdefine(model, \"errors\", [])\r\n\tdelete model.name;\r\n}\r\n\r\nexport let extendModel = (child, parent, newProps) => {\r\n\textend(child, parent, newProps)\r\n\tchild.assertions.push(...parent.assertions)\r\n\treturn child\r\n}\r\n\r\nexport let stackError = (errors, expected, received, path, message) => {\r\n\terrors.push({expected, received, path, message})\r\n}\r\n\r\nexport let unstackErrors = (model, errorCollector = model.errorCollector) => {\r\n\tlet nbErrors = model.errors.length\r\n\tif (nbErrors > 0) {\r\n\t\tlet errors = model.errors.map(err => {\r\n\t\t\tif (!err.message) {\r\n\t\t\t\tlet def = isArray(err.expected) ? err.expected : [err.expected]\r\n\t\t\t\terr.message = \"expecting \" + (err.path ? err.path + \" to be \" : \"\") + def.map(d => format(d)).join(\" or \")\r\n\t\t\t\t\t+ \", got \" + (err.received != null ? bettertypeof(err.received) + \" \" : \"\") + format(err.received)\r\n\t\t\t}\r\n\t\t\treturn err\r\n\t\t})\r\n\t\tmodel.errors = []\r\n\t\terrorCollector.call(model, errors) // throw all errors collected\r\n\t}\r\n\treturn nbErrors\r\n}\r\n\r\nexport default Model","import {extendModel, initModel, Model, stackError, unstackErrors} from \"./model\"\r\nimport {cast, checkAssertions, checkDefinition} from \"./definition\"\r\nimport {\r\n\t_constructor,\r\n\t_validate,\r\n\tcannot,\r\n\textend,\r\n\tformat,\r\n\tgetPath,\r\n\tgetProto,\r\n\thas,\r\n\tis,\r\n\tisFunction,\r\n\tisModelInstance,\r\n\tisObject,\r\n\tisPlainObject,\r\n\tisString,\r\n\tmapProps,\r\n\tmerge,\r\n\tObjectProto,\r\n\tproxify,\r\n\tsetConstructor\r\n} from \"./helpers\"\r\n\r\nexport default function ObjectModel(def, params) {\r\n\tlet model = function (obj = model.default) {\r\n\t\tlet instance = this\r\n\t\tif (!is(model, instance)) return new model(obj)\r\n\t\tif (is(model, obj)) return obj\r\n\r\n\t\tmerge(instance, model[_constructor](obj), true)\r\n\t\tif (!model.validate(instance)) return\r\n\t\treturn getProxy(model, instance, model.definition)\r\n\t}\r\n\r\n\tObject.assign(model, params)\r\n\textend(model, Object)\r\n\tsetConstructor(model, ObjectModel)\r\n\tinitModel(model, def)\r\n\treturn model\r\n}\r\n\r\nextend(ObjectModel, Model, {\r\n\tsealed: false,\r\n\r\n\tdefaults(p){\r\n\t\tObject.assign(this.prototype, p)\r\n\t\treturn this\r\n\t},\r\n\r\n\ttoString(stack){\r\n\t\treturn format(this.definition, stack)\r\n\t},\r\n\r\n\textend(...newParts){\r\n\t\tlet parent = this,\r\n\t\t    def = Object.assign({}, this.definition),\r\n\t\t    newAssertions = [],\r\n\t\t    proto = {}\r\n\r\n\t\tmerge(proto, parent.prototype, false)\r\n\r\n\t\tfor (let part of newParts) {\r\n\t\t\tif (is(Model, part)) {\r\n\t\t\t\tmerge(def, part.definition, true)\r\n\t\t\t\tnewAssertions.push(...part.assertions)\r\n\t\t\t}\r\n\t\t\tif (isFunction(part)) merge(proto, part.prototype, true)\r\n\t\t\tif (isObject(part)) merge(def, part, true)\r\n\t\t}\r\n\r\n\t\tlet submodel = extendModel(new ObjectModel(def), parent, proto)\r\n\t\tsubmodel.assertions = parent.assertions.concat(newAssertions)\r\n\r\n\t\tif(getProto(parent) !== ObjectModel.prototype) { // extended class\r\n\t\t\tsubmodel[_constructor] = (obj) => {\r\n\t\t\t\tlet parentInstance = new parent(obj)\r\n\t\t\t\tmerge(obj, parentInstance, true) // get modified props from parent class constructor\r\n\t\t\t\treturn obj\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn submodel\r\n\t},\r\n\r\n\t[_validate](obj, path, errors, stack){\r\n\t\tif (isObject(obj)){\r\n\t\t\tlet def = this.definition\r\n\t\t\tcheckDefinition(obj, def, path, errors, stack)\r\n\t\t\tif(this.sealed) checkUndeclaredProps(obj, def, errors)\r\n\t\t}\r\n\t\telse stackError(errors, this, obj, path)\r\n\r\n\t\tcheckAssertions(obj, this, path, errors)\r\n\t}\r\n})\r\n\r\nlet getProxy = (model, obj, def, path) => !isPlainObject(def) ? cast(obj, def) : proxify(obj, {\r\n\r\n\tgetPrototypeOf: () => path ? ObjectProto : getProto(obj),\r\n\r\n\tget(o, key) {\r\n\t\tif (!isString(key))\r\n\t\t\treturn Reflect.get(o, key)\r\n\r\n\t\tlet newPath = getPath(path, key),\r\n\t\t    defPart = def[key];\r\n\r\n\t\tif (key in def && model.conventionForPrivate(key)) {\r\n\t\t\tcannot(`access to private property ${newPath}`, model)\r\n\t\t\tunstackErrors(model)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (o[key] && has(o, key) && !isPlainObject(defPart) && !isModelInstance(o[key])) {\r\n\t\t\to[key] = cast(o[key], defPart) // cast nested models\r\n\t\t}\r\n\r\n\t\tif (isFunction(o[key]) && o[key].bind)\r\n\t\t\treturn o[key].bind(o); // auto-bind methods to original object, so they can access private props\r\n\r\n\t\tif(isPlainObject(defPart) && !o[key]){\r\n\t\t\to[key] = {} // null-safe traversal\r\n\t\t}\r\n\r\n\t\treturn getProxy(model, o[key], defPart, newPath)\r\n\t},\r\n\r\n\tset(o, key, val) {\r\n\t\treturn controlMutation(model, def, path, o, key, (newPath) => {\r\n\t\t\tReflect.set(o, key, getProxy(model, val, def[key], newPath))\r\n\t\t})\r\n\t},\r\n\r\n\tdeleteProperty(o, key) {\r\n\t\treturn controlMutation(model, def, path, o, key, () => Reflect.deleteProperty(o, key))\r\n\t},\r\n\r\n\tdefineProperty(o, key, args){\r\n\t\treturn controlMutation(model, def, path, o, key, () => Reflect.defineProperty(o, key, args))\r\n\t},\r\n\r\n\thas(o, key){\r\n\t\treturn Reflect.has(o, key) && Reflect.has(def, key) && !model.conventionForPrivate(key)\r\n\t},\r\n\r\n\townKeys(o){\r\n\t\treturn Reflect.ownKeys(o).filter(key => Reflect.has(def, key) && !model.conventionForPrivate(key))\r\n\t},\r\n\r\n\tgetOwnPropertyDescriptor(o, key){\r\n\t\tlet descriptor;\r\n\t\tif (!model.conventionForPrivate(key)) {\r\n\t\t\tdescriptor = Object.getOwnPropertyDescriptor(def, key);\r\n\t\t\tif (descriptor !== undefined) descriptor.value = o[key];\r\n\t\t}\r\n\r\n\t\treturn descriptor\r\n\t}\r\n})\r\n\r\nlet checkUndeclaredProps = (obj, def, errors, path) => {\r\n\tmapProps(obj, key => {\r\n\t\tlet val = obj[key],\r\n\t\t    subpath = getPath(path, key)\r\n\t\tif(!has(def, key)) rejectUndeclaredProp(subpath, val, errors)\r\n\t\telse if(isPlainObject(val))\tcheckUndeclaredProps(val, def[key], errors, subpath)\r\n\t})\r\n}\r\n\r\nlet controlMutation = (model, def, path, o, key, applyMutation) => {\r\n\tlet newPath       = getPath(path, key),\r\n\t    isPrivate     = model.conventionForPrivate(key),\r\n\t    isConstant    = model.conventionForConstant(key),\r\n\t    isOwnProperty = has(o, key),\r\n\t    initialPropDescriptor = isOwnProperty && Object.getOwnPropertyDescriptor(o, key)\r\n\r\n\tif (key in def && (isPrivate || (isConstant && o[key] !== undefined)))\r\n\t\tcannot(`modify ${isPrivate ? \"private\" : \"constant\"} ${key}`, model)\r\n\r\n\tlet isInDefinition = has(def, key);\r\n\tif (isInDefinition || !model.sealed) {\r\n\t\tapplyMutation(newPath)\r\n\t\tisInDefinition && checkDefinition(o[key], def[key], newPath, model.errors, [])\r\n\t\tcheckAssertions(o, model, newPath)\r\n\t}\r\n\telse rejectUndeclaredProp(newPath, o[key], model.errors)\r\n\r\n\tlet nbErrors = model.errors.length\r\n\tif (nbErrors) {\r\n\t\tif (isOwnProperty) Object.defineProperty(o, key, initialPropDescriptor)\r\n\t\telse delete o[key] // back to the initial property defined in prototype chain\r\n\r\n\t\tunstackErrors(model)\r\n\t}\r\n\r\n\treturn !nbErrors\r\n}\r\n\r\nlet rejectUndeclaredProp = (path, received, errors) => {\r\n\terrors.push({\r\n\t\tpath,\r\n\t\treceived,\r\n\t\tmessage: `property ${path} is not declared in the sealed model definition`\r\n\t})\r\n}","import ObjectModel from \"./object-model\"\nimport Model from \"./model\"\nimport {getProto, is, isArray, isFunction, isPlainObject, mapProps} from \"./helpers\"\n\nlet styles = {\n\tlist: `list-style-type: none; padding: 0; margin: 0;`,\n\tlistItem: `padding: 0 0 0 1em;`,\n\tmodel: `color: #43a047; font-style: italic`,\n\tfunction: `color: #4271ae`,\n\tstring: `color: #C41A16`,\n\tnumber: `color: #1C00CF`,\n\tboolean: `color: #AA0D91`,\n\tproperty: `color: #881391`,\n\tprivate: `color: #B871BD`,\n\tnull: `color: #808080`\n};\n\nlet getModel = (instance) => {\n\tif (instance === undefined || instance === null)\n\t\treturn null\n\n\tlet proto = getProto(instance);\n\tif (!proto || !proto.constructor || !is(Model, proto.constructor))\n\t\treturn null\n\n\treturn proto.constructor\n}\n\nlet span = (value, style) => [\"span\", {style}, value]\n\nlet format = (x, config) => {\n\tif (x === null || x === undefined)\n\t\treturn span(String(x), styles.null);\n\n\tif (typeof x === \"boolean\")\n\t\treturn span(x, styles.boolean);\n\n\tif (typeof x === \"number\")\n\t\treturn span(x, styles.number);\n\n\tif (typeof x === \"string\")\n\t\treturn span(`\"${x}\"`, styles.string);\n\n\tif (isArray(x)) {\n\t\tlet def = [];\n\t\tif (x.length === 1) x.push(undefined, null);\n\t\tfor (let i = 0; i < x.length; i++) {\n\t\t\tdef.push(format(x[i]))\n\t\t\tif (i < x.length - 1) def.push(' or ')\n\t\t}\n\t\treturn span(...def)\n\t}\n\n\tif (isPlainObject(x))\n\t\treturn formatObject(x, getModel(x), config)\n\n\tif (isFunction(x) && !is(Model, x))\n\t\treturn span(x.name || x.toString(), styles.function);\n\n\treturn x ? ['object', {object: x, config}] : null\n}\n\nlet formatObject = (o, model, config) => {\n\treturn [\n\t\t'ol', {style: styles.list},\n\t\t'{',\n\t\t...mapProps(o, prop => {\n\t\t\tlet isPrivate = model && model.conventionForPrivate(prop);\n\t\t\treturn ['li', {style: styles.listItem},\n\t\t\t\tspan(prop, isPrivate ? styles.private : styles.property), ': ',\n\t\t\t\tformat(o[prop], config)\n\t\t\t]\n\t\t}),\n\t\t'}'\n\t];\n}\n\nlet formatHeader = (x, config) => {\n\tif (is(Model, x))\n\t\treturn span(x.name, styles.model)\n\n\tif (config.fromModel || isPlainObject(x) || isArray(x))\n\t\treturn format(x)\n\n\treturn null;\n}\n\nlet ModelFormatter = {\n\theader(x, config = {}) {\n\t\tif (config.fromModel || is(Model, x))\n\t\t\treturn formatHeader(x, config);\n\n\t\treturn null;\n\t},\n\thasBody(x) {\n\t\treturn is(Model, x)\n\t},\n\tbody(x) {\n\t\treturn format(x.definition, {fromModel: true})\n\t}\n}\n\nlet ModelInstanceFormatter = {\n\theader(x, config = {}) {\n\t\tif (config.fromInstance && isPlainObject(x)) {\n\t\t\treturn formatHeader(x, config)\n\t\t}\n\n\t\tlet model = getModel(x);\n\t\tif (is(Model, model)) {\n\t\t\treturn span(x.constructor.name, styles.model)\n\t\t}\n\n\t\treturn null;\n\t},\n\thasBody(x) {\n\t\treturn x && is(ObjectModel, getModel(x))\n\t},\n\tbody(x) {\n\t\treturn formatObject(x, getModel(x), {fromInstance: true})\n\t}\n}\n\nif (typeof window !== \"undefined\") {\n\twindow.devtoolsFormatters = (window.devtoolsFormatters || [])\n\t\t.concat(ModelFormatter, ModelInstanceFormatter);\n}","import {extendModel, initModel, Model, stackError, unstackErrors} from \"./model\"\nimport {cast, checkAssertions, checkDefinition, extendDefinition, formatDefinition} from \"./definition\"\nimport {_validate, extend, isArray, isFunction, proxifyFn, proxifyModel, setConstructor} from \"./helpers\"\n\nlet ARRAY_MUTATORS = [\"pop\", \"push\", \"reverse\", \"shift\", \"sort\", \"splice\", \"unshift\"]\n\nexport default function ArrayModel(def) {\n\n\tlet model = function (array = model.default) {\n\t\tif (model.validate(array)) return proxifyModel(array, model, {\n\t\t\tget(arr, key) {\n\t\t\t\tlet val = arr[key];\n\t\t\t\treturn isFunction(val) ? proxifyFn(val, (fn, ctx, args) => {\n\t\t\t\t\tif (ARRAY_MUTATORS.includes(key)) {\n\t\t\t\t\t\tlet testArray = arr.slice()\n\t\t\t\t\t\tfn.apply(testArray, args)\n\t\t\t\t\t\tmodel.validate(testArray)\n\t\t\t\t\t}\n\n\t\t\t\t\tlet returnValue = fn.apply(arr, args)\n\t\t\t\t\tarray.forEach((a, i) => arr[i] = cast(a, model.definition))\n\t\t\t\t\treturn returnValue\n\t\t\t\t}) : val\n\t\t\t},\n\n\t\t\tset(arr, key, val) {\n\t\t\t\treturn setArrayKey(arr, key, val, model)\n\t\t\t},\n\n\t\t\tdeleteProperty(arr, key){\n\t\t\t\treturn !(key in arr) || setArrayKey(arr, key, undefined, model)\n\t\t\t}\n\t\t})\n\t}\n\n\textend(model, Array)\n\tsetConstructor(model, ArrayModel)\n\tinitModel(model, def)\n\treturn model\n}\n\nextend(ArrayModel, Model, {\n\ttoString(stack){\n\t\treturn 'Array of ' + formatDefinition(this.definition, stack)\n\t},\n\n\t[_validate](arr, path, errors, stack){\n\t\tif (isArray(arr))\n\t\t\tarr.forEach((a, i) => {\n\t\t\t\tarr[i] = checkDefinition(a, this.definition, `${path || \"Array\"}[${i}]`, errors, stack)\n\t\t\t})\n\t\telse stackError(errors, this, arr, path)\n\n\t\tcheckAssertions(arr, this, path, errors)\n\t},\n\n\textend(...newParts){\n\t\treturn extendModel(new ArrayModel(extendDefinition(this.definition, newParts)), this)\n\t}\n})\n\nlet setArrayKey = (array, key, value, model) => {\n\tlet path = `Array[${key}]`;\n\tif (parseInt(key) === +key && key >= 0)\n\t\tvalue = checkDefinition(value, model.definition, path, model.errors, [])\n\n\tlet testArray = array.slice()\n\ttestArray[key] = value\n\tcheckAssertions(testArray, model, path)\n\tlet isSuccess = !unstackErrors(model)\n\tif (isSuccess) array[key] = value\n\treturn isSuccess\n}","import {extendModel, initModel, Model, stackError, unstackErrors} from \"./model\"\nimport {checkAssertions, checkDefinition, extendDefinition, formatDefinition} from \"./definition\"\nimport {_validate, extend, format, isFunction, proxifyModel, setConstructor} from \"./helpers\"\n\n\nexport default function FunctionModel(...argsDef) {\n\n\tlet model = function (fn = model.default) {\n\t\tif (!model.validate(fn)) return\n\t\treturn proxifyModel(fn, model, {\n\t\t\tapply (fn, ctx, args) {\n\t\t\t\tlet def = model.definition\n\n\t\t\t\tdef.arguments.forEach((argDef, i) => {\n\t\t\t\t\targs[i] = checkDefinition(args[i], argDef, `arguments[${i}]`, model.errors, [])\n\t\t\t\t})\n\n\t\t\t\tcheckAssertions(args, model, \"arguments\")\n\n\t\t\t\tlet result\n\t\t\t\tif (!model.errors.length) {\n\t\t\t\t\tresult = Reflect.apply(fn, ctx, args)\n\t\t\t\t\tif (\"return\" in def)\n\t\t\t\t\t\tresult = checkDefinition(result, def.return, \"return value\", model.errors, [])\n\t\t\t\t}\n\t\t\t\tunstackErrors(model)\n\t\t\t\treturn result\n\t\t\t}\n\t\t});\n\t}\n\n\textend(model, Function)\n\tsetConstructor(model, FunctionModel)\n\tinitModel(model, {arguments: argsDef})\n\n\treturn model\n}\n\nextend(FunctionModel, Model, {\n\ttoString(stack = []){\n\t\tlet out = `Function(${this.definition.arguments.map(\n\t\t\targDef => formatDefinition(argDef, stack.slice())\n\t\t).join(\",\")})`\n\n\t\tif (\"return\" in this.definition) {\n\t\t\tout += \" => \" + formatDefinition(this.definition.return, stack)\n\t\t}\n\t\treturn out\n\t},\n\n\treturn(def){\n\t\tthis.definition.return = def\n\t\treturn this\n\t},\n\n\textend(newArgs, newReturns) {\n\t\tlet args = this.definition.arguments,\n\t\t    mixedArgs = newArgs.map((a, i) => extendDefinition(i in args ? args[i] : [], newArgs[i])),\n\t\t    mixedReturns = extendDefinition(this.definition.return, newReturns)\n\t\treturn extendModel(new FunctionModel(...mixedArgs).return(mixedReturns), this)\n\t},\n\n\t[_validate](f, path, errors){\n\t\tif (!isFunction(f)) {\n\t\t\tstackError(errors, \"Function\", f, path)\n\t\t}\n\t}\n})\n\nFunctionModel.prototype.assert(function (args) {\n\treturn (args.length > this.definition.arguments.length) ? args : true\n}, function (args) {\n\treturn `expecting ${this.definition.arguments.length} arguments for ${format(this)}, got ${args.length}`\n})","import {extendModel, initModel, Model, stackError} from \"./model\"\nimport {cast, checkAssertions, checkDefinition, extendDefinition, formatDefinition} from \"./definition\"\nimport {_validate, extend, format, isFunction, proxifyFn, proxifyModel, setConstructor} from \"./helpers\"\n\nlet MAP_MUTATORS = [\"set\", \"delete\", \"clear\"]\n\nexport default function MapModel(key, value) {\n\n\tlet model = function (iterable = model.default) {\n\t\tlet castKeyValue = pair => [\"key\", \"value\"].map((prop, i) => cast(pair[i], model.definition[prop])),\n\t\t    map = new Map([...iterable].map(castKeyValue))\n\n\t\tif (!model.validate(map)) return\n\n\t\treturn proxifyModel(map, model, {\n\t\t\tget(map, key) {\n\t\t\t\tlet val = map[key];\n\t\t\t\treturn isFunction(val) ? proxifyFn(val, (fn, ctx, args) => {\n\t\t\t\t\tif (key === \"set\") {\n\t\t\t\t\t\targs = castKeyValue(args)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (MAP_MUTATORS.includes(key)) {\n\t\t\t\t\t\tlet testMap = new Map(map)\n\t\t\t\t\t\tfn.apply(testMap, args)\n\t\t\t\t\t\tmodel.validate(testMap)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn fn.apply(map, args)\n\t\t\t\t}) : val\n\t\t\t}\n\t\t})\n\t}\n\n\textend(model, Map)\n\tsetConstructor(model, MapModel)\n\tinitModel(model, {key, value})\n\treturn model\n}\n\nextend(MapModel, Model, {\n\ttoString(stack) {\n\t\tlet {key, value} = this.definition\n\t\treturn `Map of ${formatDefinition(key, stack)} : ${formatDefinition(value, stack)}`\n\t},\n\n\t[_validate](map, path, errors, stack) {\n\t\tif (map instanceof Map) {\n\t\t\tpath = path || 'Map'\n\t\t\tfor (let [key, value] of map) {\n\t\t\t\tcheckDefinition(key, this.definition.key, `${path} key`, errors, stack)\n\t\t\t\tcheckDefinition(value, this.definition.value, `${path}[${format(key)}]`, errors, stack)\n\t\t\t}\n\t\t} else stackError(errors, this, map, path)\n\n\t\tcheckAssertions(map, this, path, errors)\n\t},\n\n\textend(keyPart, valuePart){\n\t\tlet {key, value} = this.definition\n\t\treturn extendModel(new MapModel(extendDefinition(key, keyPart), extendDefinition(value, valuePart)), this)\n\t}\n})","import {extendModel, initModel, Model, stackError} from \"./model\"\nimport {cast, checkAssertions, checkDefinition, extendDefinition, formatDefinition} from \"./definition\"\nimport {_validate, extend, isFunction, proxifyFn, proxifyModel, setConstructor} from \"./helpers\"\n\nlet SET_MUTATORS = [\"add\", \"delete\", \"clear\"]\n\nexport default function SetModel(def) {\n\n\tlet model = function (iterable = model.default) {\n\t\tlet castValue = val => cast(val, model.definition),\n\t\t    set = new Set([...iterable].map(castValue))\n\n\t\tif (!model.validate(set)) return\n\n\t\treturn proxifyModel(set, model, {\n\t\t\tget(set, key) {\n\t\t\t\tlet val = set[key]\n\t\t\t\treturn isFunction(val) ? proxifyFn(val, (fn, ctx, args) => {\n\t\t\t\t\tif (key === \"add\") {\n\t\t\t\t\t\targs[0] = castValue(args[0])\n\t\t\t\t\t}\n\n\t\t\t\t\tif (SET_MUTATORS.includes(key)) {\n\t\t\t\t\t\tlet testSet = new Set(set)\n\t\t\t\t\t\tfn.apply(testSet, args)\n\t\t\t\t\t\tmodel.validate(testSet)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn fn.apply(set, args)\n\t\t\t\t}) : val\n\t\t\t}\n\t\t})\n\t}\n\n\textend(model, Set)\n\tsetConstructor(model, SetModel)\n\tinitModel(model, def)\n\treturn model\n}\n\nextend(SetModel, Model, {\n\ttoString(stack){\n\t\treturn \"Set of \" + formatDefinition(this.definition, stack)\n\t},\n\n\t[_validate](set, path, errors, stack){\n\t\tif (set instanceof Set) {\n\t\t\tfor (let item of set.values()) {\n\t\t\t\tcheckDefinition(item, this.definition, `${path || \"Set\"} value`, errors, stack)\n\t\t\t}\n\t\t} else stackError(errors, this, set, path)\n\t\tcheckAssertions(set, this, path, errors)\n\t},\n\n\textend(...newParts){\n\t\treturn extendModel(new SetModel(extendDefinition(this.definition, newParts)), this)\n\t}\n})"],"names":["format"],"mappings":"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"}