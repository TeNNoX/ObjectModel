{"version":3,"file":"object-model.js","sources":["../src/helpers.js","../src/object-model.js","../src/list-model.js","../src/array-model.js","../src/set-model.js","../src/map-model.js","../src/function-model.js","../src/devtool-formatter.js"],"sourcesContent":["export const\n\tbettertypeof = x => Object.prototype.toString.call(x).match(/\\s([a-zA-Z]+)/)[1],\n\tgetProto = Object.getPrototypeOf,\n\tsetProto = Object.setPrototypeOf,\n\n\thas = (o, prop) => o.hasOwnProperty(prop),\n\tis = (Constructor, obj) => obj instanceof Constructor,\n\tisFunction = f => typeof f === \"function\",\n\tisObject = o => o && typeof o === \"object\",\n\tisPlainObject = o => isObject(o) && getProto(o) === Object.prototype,\n\tisIterable = x => x && isFunction(x[Symbol.iterator]),\n\n\tproxify = (val, traps) => new Proxy(val, traps),\n\n\tmerge = (target, src = {}) => {\n\t\tfor (let key in src) {\n\t\t\tif (isPlainObject(src[key])) {\n\t\t\t\tlet o = {}\n\t\t\t\tmerge(o, target[key])\n\t\t\t\tmerge(o, src[key])\n\t\t\t\ttarget[key] = o\n\t\t\t} else {\n\t\t\t\ttarget[key] = src[key]\n\t\t\t}\n\t\t}\n\t\treturn target\n\t},\n\n\tdefine = (obj, key, value, enumerable = false) => {\n\t\tObject.defineProperty(obj, key, { value, enumerable, writable: true, configurable: true })\n\t},\n\n\textend = (child, parent, props) => {\n\t\tchild.prototype = Object.assign(Object.create(parent.prototype, {\n\t\t\tconstructor: {\n\t\t\t\tvalue: child,\n\t\t\t\twritable: true,\n\t\t\t\tconfigurable: true\n\t\t\t}\n\t\t}), props)\n\t\tsetProto(child, parent)\n\t}","import {\n\tbettertypeof, define, extend, getProto, has, is, isFunction, isObject, isPlainObject,\n\tmerge, proxify, setProto\n} from \"./helpers.js\"\n\nexport const\n\t_check = Symbol(),\n\t_checked = Symbol(), // used to skip validation at instanciation for perf\n\t_original = Symbol(), // used to bypass proxy\n\n\tinitModel = (def, constructor, parent, init, getTraps, useNew) => {\n\t\tlet model = function (val = model.default, mode) {\n\t\t\tif (useNew && !is(model, this)) return new model(val)\n\t\t\tif (init) val = init(val, model, this)\n\n\t\t\tif (mode === _checked || check(model, val))\n\t\t\t\treturn getTraps ? proxify(val, getTraps(model)) : val\n\t\t}\n\n\t\tif (parent) extend(model, parent)\n\t\tsetProto(model, constructor.prototype)\n\t\tmodel.constructor = constructor\n\t\tmodel.definition = def\n\t\tmodel.assertions = [...model.assertions]\n\t\tdefine(model, \"errors\", [])\n\t\tdelete model.name\n\t\treturn model\n\t},\n\n\tinitObjectModel = (obj, model, _this) => {\n\t\tif (is(model, obj)) return obj\n\n\t\tif (!isObject(obj) && !isFunction(obj) && obj !== undefined) {\n\t\t\tstackError(model.errors, Object, obj)\n\t\t}\n\n\t\tmerge(_this, model.default)\n\t\tif (model.parentClass) merge(obj, new model.parentClass(obj))\n\t\tmerge(_this, obj)\n\t\treturn _this\n\t},\n\n\textendModel = (child, parent, newProps) => {\n\t\textend(child, parent, newProps)\n\t\tchild.assertions.push(...parent.assertions)\n\t\treturn child\n\t},\n\n\tstackError = (errors, expected, received, path, message) => {\n\t\terrors.push({ expected, received, path, message })\n\t},\n\n\tunstackErrors = (model, collector = model.errorCollector) => {\n\t\tlet nbErrors = model.errors.length\n\t\tif (nbErrors > 0) {\n\t\t\tlet errors = model.errors.map(err => {\n\t\t\t\tif (!err.message) {\n\t\t\t\t\tlet def = [].concat(err.expected)\n\t\t\t\t\terr.message = \"expecting \" + (err.path ? err.path + \" to be \" : \"\") + def.map(d => format(d)).join(\" or \")\n\t\t\t\t\t\t+ \", got \" + (err.received != null ? bettertypeof(err.received) + \" \" : \"\") + format(err.received)\n\t\t\t\t}\n\t\t\t\treturn err\n\t\t\t})\n\n\t\t\tmodel.errors.length = 0\n\t\t\tcollector.call(model, errors) // throw all errors collected\n\t\t}\n\t\treturn nbErrors\n\t},\n\n\tisModelInstance = i => i && getProto(i) && is(Model, getProto(i).constructor),\n\n\tparseDefinition = (def) => {\n\t\tif (isPlainObject(def)) {\n\t\t\tObject.keys(def).map(key => { def[key] = parseDefinition(def[key]) })\n\t\t}\n\t\telse if (!Array.isArray(def)) return [def]\n\t\telse if (def.length === 1) return [...def, undefined, null]\n\n\t\treturn def\n\t},\n\n\tformatDefinition = (def, stack) => {\n\t\tlet parts = parseDefinition(def).map(d => format(d, stack))\n\t\treturn parts.length > 1 ? `(${parts.join(\" or \")})` : parts[0]\n\t},\n\n\textendDefinition = (def, newParts = []) => {\n\t\tnewParts = [].concat(newParts)\n\t\tif (newParts.length > 0) {\n\t\t\tdef = newParts\n\t\t\t\t.reduce((def, ext) => def.concat(ext), [].concat(def)) // clone to lose ref\n\t\t\t\t.filter((value, index, self) => self.indexOf(value) === index) // remove duplicates\n\t\t}\n\n\t\treturn def\n\t},\n\n\tcheck = (model, obj) => {\n\t\tmodel[_check](obj, null, model.errors, [], true);\n\t\treturn !unstackErrors(model)\n\t},\n\n\tcheckDefinition = (obj, def, path, errors, stack, shouldCast) => {\n\t\tlet indexFound = stack.indexOf(def)\n\t\tif (indexFound !== -1 && stack.indexOf(def, indexFound + 1) !== -1)\n\t\t\treturn obj // if found twice in call stack, cycle detected, skip validation\n\n\t\tif (is(Model, def)) {\n\t\t\tif (shouldCast) obj = cast(obj, def)\n\t\t\tdef[_check](obj, path, errors, stack.concat(def))\n\t\t}\n\t\telse if (isPlainObject(def)) {\n\t\t\tObject.keys(def).map(key => {\n\t\t\t\tlet val = obj ? obj[key] : undefined\n\t\t\t\tcheckDefinition(val, def[key], formatPath(path, key), errors, stack, shouldCast)\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tlet pdef = parseDefinition(def)\n\t\t\tif (pdef.some(part => checkDefinitionPart(obj, part, path, stack))) {\n\t\t\t\treturn shouldCast ? cast(obj, def) : obj\n\t\t\t}\n\n\t\t\tstackError(errors, def, obj, path)\n\t\t}\n\n\t\treturn obj\n\t},\n\n\tcheckDefinitionPart = (obj, def, path, stack, shouldCast) => {\n\t\tif (def === Any) return true\n\t\tif (obj == null) return obj === def\n\t\tif (isPlainObject(def) || is(Model, def)) { // object or model as part of union type\n\t\t\tlet errors = []\n\t\t\tcheckDefinition(obj, def, path, errors, stack, shouldCast)\n\t\t\treturn !errors.length\n\t\t}\n\t\tif (is(RegExp, def)) return def.test(obj)\n\t\tif (def === Number || def === Date) return obj.constructor === def && !isNaN(obj)\n\t\treturn obj === def\n\t\t\t|| (isFunction(def) && is(def, obj))\n\t\t\t|| obj.constructor === def\n\t},\n\n\tcheckAssertions = (obj, model, path, errors = model.errors) => {\n\t\tfor (let assertion of model.assertions) {\n\t\t\tlet result\n\t\t\ttry {\n\t\t\t\tresult = assertion.call(model, obj)\n\t\t\t} catch (err) {\n\t\t\t\tresult = err\n\t\t\t}\n\t\t\tif (result !== true) {\n\t\t\t\tlet onFail = isFunction(assertion.description) ? assertion.description : (assertionResult, value) =>\n\t\t\t\t\t`assertion \"${assertion.description}\" returned ${format(assertionResult)} `\n\t\t\t\t\t+ `for ${path ? path + \" =\" : \"value\"} ${format(value)}`\n\t\t\t\tstackError(errors, assertion, obj, path, onFail.call(model, result, obj, path))\n\t\t\t}\n\t\t}\n\t},\n\n\tformat = (obj, stack = []) => {\n\t\tif (stack.length > 15 || stack.includes(obj)) return \"...\"\n\t\tif (obj === null || obj === undefined) return String(obj)\n\t\tif (typeof obj === \"string\") return `\"${obj}\"`\n\t\tif (is(Model, obj)) return obj.toString(stack)\n\n\t\tstack.unshift(obj)\n\n\t\tif (isFunction(obj)) return obj.name || obj.toString()\n\t\tif (is(Map, obj) || is(Set, obj)) return format([...obj])\n\t\tif (Array.isArray(obj)) return `[${obj.map(item => format(item, stack)).join(\", \")}]`\n\t\tif (obj.toString !== Object.prototype.toString) return obj.toString()\n\t\tif (isObject(obj)) {\n\t\t\tlet props = Object.keys(obj),\n\t\t\t\tindent = \"\\t\".repeat(stack.length)\n\t\t\treturn `{${props.map(\n\t\t\t\tkey => `\\n${indent + key}: ${format(obj[key], [...stack])}`\n\t\t\t).join(\", \")} ${props.length ? `\\n${indent.slice(1)}` : \"\"}}`\n\t\t}\n\n\t\treturn String(obj)\n\t},\n\n\tformatPath = (path, key) => path ? path + \".\" + key : key,\n\n\tcontrolMutation = (model, def, path, o, key, privateAccess, applyMutation) => {\n\t\tlet newPath = formatPath(path, key),\n\t\t\tisPrivate = model.conventionForPrivate(key),\n\t\t\tisConstant = model.conventionForConstant(key),\n\t\t\tisOwnProperty = has(o, key),\n\t\t\tinitialPropDescriptor = isOwnProperty && Object.getOwnPropertyDescriptor(o, key)\n\n\t\tif (key in def && ((isPrivate && !privateAccess) || (isConstant && o[key] !== undefined)))\n\t\t\tcannot(`modify ${isPrivate ? \"private\" : \"constant\"} property ${key}`, model)\n\n\t\tapplyMutation(newPath)\n\t\tif (has(def, key)) checkDefinition(o[key], def[key], newPath, model.errors, [])\n\t\tcheckAssertions(o, model, newPath)\n\n\t\tlet nbErrors = model.errors.length\n\t\tif (nbErrors) {\n\t\t\tif (isOwnProperty) Object.defineProperty(o, key, initialPropDescriptor)\n\t\t\telse delete o[key] // back to the initial property defined in prototype chain\n\n\t\t\tunstackErrors(model)\n\t\t}\n\n\t\treturn !nbErrors\n\t},\n\n\tcannot = (msg, model) => {\n\t\tmodel.errors.push({ message: \"cannot \" + msg })\n\t},\n\n\tcast = (obj, defNode = []) => {\n\t\tif (!obj || isPlainObject(defNode) || is(BasicModel, defNode) || isModelInstance(obj))\n\t\t\treturn obj // no value or not leaf or already a model instance\n\n\t\tlet def = parseDefinition(defNode),\n\t\t\tsuitableModels = []\n\n\t\tfor (let part of def) {\n\t\t\tif (is(Model, part) && !is(BasicModel, part) && part.test(obj))\n\t\t\t\tsuitableModels.push(part)\n\t\t}\n\n\t\tif (suitableModels.length === 1) {\n\t\t\t// automatically cast to suitable model when explicit (autocasting)\n\t\t\treturn new suitableModels[0](obj, _checked)\n\t\t}\n\n\t\tif (suitableModels.length > 1)\n\t\t\tconsole.warn(`Ambiguous model for value ${format(obj)}, could be ${suitableModels.join(\" or \")}`)\n\n\t\treturn obj\n\t},\n\n\n\tgetProp = (val, model, def, path, privateAccess) => {\n\t\tif (!isPlainObject(def)) return cast(val, def)\n\t\treturn proxify(val, getTraps(model, def, path, privateAccess))\n\t},\n\n\tgetTraps = (model, def, path, privateAccess) => {\n\t\tconst grantPrivateAccess = f => proxify(f, {\n\t\t\tapply(fn, ctx, args) {\n\t\t\t\tprivateAccess = true\n\t\t\t\tlet result = Reflect.apply(fn, ctx, args)\n\t\t\t\tprivateAccess = false\n\t\t\t\treturn result\n\t\t\t}\n\t\t})\n\n\t\treturn {\n\t\t\tgetPrototypeOf: obj => path ? Object.prototype : getProto(obj),\n\n\t\t\tget(o, key) {\n\t\t\t\tif (key === _original) return o\n\n\t\t\t\tif (typeof key !== \"string\") return Reflect.get(o, key)\n\n\t\t\t\tlet newPath = formatPath(path, key),\n\t\t\t\t\tdefPart = def[key]\n\n\t\t\t\tif (!privateAccess && key in def && model.conventionForPrivate(key)) {\n\t\t\t\t\tcannot(`access to private property ${newPath}`, model)\n\t\t\t\t\tunstackErrors(model)\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (o[key] && has(o, key) && !isPlainObject(defPart) && !isModelInstance(o[key])) {\n\t\t\t\t\to[key] = cast(o[key], defPart) // cast nested models\n\t\t\t\t}\n\n\t\t\t\tif (isFunction(o[key]) && key !== \"constructor\" && !privateAccess) {\n\t\t\t\t\treturn grantPrivateAccess(o[key])\n\t\t\t\t}\n\n\t\t\t\tif (isPlainObject(defPart) && !o[key]) {\n\t\t\t\t\to[key] = {} // null-safe traversal\n\t\t\t\t}\n\n\t\t\t\treturn getProp(o[key], model, defPart, newPath, privateAccess)\n\t\t\t},\n\n\t\t\tset(o, key, val) {\n\t\t\t\treturn controlMutation(model, def, path, o, key, privateAccess,\n\t\t\t\t\tnewPath => Reflect.set(o, key, getProp(val, model, def[key], newPath))\n\t\t\t\t)\n\t\t\t},\n\n\t\t\tdeleteProperty(o, key) {\n\t\t\t\treturn controlMutation(model, def, path, o, key, privateAccess, () => Reflect.deleteProperty(o, key))\n\t\t\t},\n\n\t\t\tdefineProperty(o, key, args) {\n\t\t\t\treturn controlMutation(model, def, path, o, key, privateAccess, () => Reflect.defineProperty(o, key, args))\n\t\t\t},\n\n\t\t\thas(o, key) {\n\t\t\t\treturn Reflect.has(o, key) && Reflect.has(def, key) && !model.conventionForPrivate(key)\n\t\t\t},\n\n\t\t\townKeys(o) {\n\t\t\t\treturn Reflect.ownKeys(o).filter(key => Reflect.has(def, key) && !model.conventionForPrivate(key))\n\t\t\t},\n\n\t\t\tgetOwnPropertyDescriptor(o, key) {\n\t\t\t\tlet descriptor\n\t\t\t\tif (!model.conventionForPrivate(key)) {\n\t\t\t\t\tdescriptor = Object.getOwnPropertyDescriptor(def, key)\n\t\t\t\t\tif (descriptor !== undefined) descriptor.value = o[key]\n\t\t\t\t}\n\n\t\t\t\treturn descriptor\n\t\t\t}\n\t\t}\n\t}\n\n\nexport function Model(def, params) {\n\treturn isPlainObject(def) ? new ObjectModel(def, params) : new BasicModel(def)\n}\n\nObject.assign(Model.prototype, {\n\tname: \"Model\",\n\tassertions: [],\n\n\tconventionForConstant: key => key.toUpperCase() === key,\n\tconventionForPrivate: key => key[0] === \"_\",\n\n\ttoString(stack) {\n\t\treturn formatDefinition(this.definition, stack)\n\t},\n\n\tas(name) {\n\t\tdefine(this, \"name\", name)\n\t\treturn this\n\t},\n\n\tdefaultTo(val) {\n\t\tthis.default = val\n\t\treturn this\n\t},\n\n\t[_check](obj, path, errors, stack) {\n\t\tcheckDefinition(obj, this.definition, path, errors, stack)\n\t\tcheckAssertions(obj, this, path, errors)\n\t},\n\n\ttest(obj, errorCollector) {\n\t\tlet model = this\n\t\twhile (!has(model, \"errorCollector\")) {\n\t\t\tmodel = getProto(model)\n\t\t}\n\n\t\tlet initialErrorCollector = model.errorCollector,\n\t\t\tfailed\n\n\t\tmodel.errorCollector = errors => {\n\t\t\tfailed = true\n\t\t\tif (errorCollector) errorCollector.call(this, errors)\n\t\t}\n\n\t\tnew this(obj) // may trigger errorCollector\n\n\t\tmodel.errorCollector = initialErrorCollector\n\t\treturn !failed\n\t},\n\n\terrorCollector(errors) {\n\t\tlet e = new TypeError(errors.map(e => e.message).join(\"\\n\"))\n\t\te.stack = e.stack.replace(/\\n.*object-model(.|\\n)*object-model.*/, \"\") // blackbox objectmodel in stacktrace\n\t\tthrow e\n\t},\n\n\tassert(assertion, description = format(assertion)) {\n\t\tdefine(assertion, \"description\", description)\n\t\tthis.assertions = this.assertions.concat(assertion)\n\t\treturn this\n\t}\n})\n\n\nexport function BasicModel(def) {\n\treturn initModel(def, BasicModel)\n}\n\nextend(BasicModel, Model, {\n\textend(...newParts) {\n\t\tlet child = extendModel(new BasicModel(extendDefinition(this.definition, newParts)), this)\n\t\tfor (let part of newParts) {\n\t\t\tif (is(BasicModel, part)) child.assertions.push(...part.assertions)\n\t\t}\n\n\t\treturn child\n\t}\n})\n\nexport function ObjectModel(def) {\n\treturn initModel(def, ObjectModel, Object, initObjectModel, model => getTraps(model, def), true)\n}\n\nextend(ObjectModel, Model, {\n\tdefaultTo(obj) {\n\t\tlet def = this.definition\n\t\tfor (let key in obj) {\n\t\t\tif (has(def, key)) {\n\t\t\t\tobj[key] = checkDefinition(obj[key], def[key], key, this.errors, [], true)\n\t\t\t}\n\t\t}\n\t\tunstackErrors(this)\n\t\tthis.default = obj;\n\t\treturn this\n\t},\n\n\ttoString(stack) {\n\t\treturn format(this.definition, stack)\n\t},\n\n\textend(...newParts) {\n\t\tlet definition = { ...this.definition },\n\t\t\tproto = { ...this.prototype },\n\t\t\tdefaults = { ...this.default },\n\t\t\tnewAssertions = []\n\n\t\tfor (let part of newParts) {\n\t\t\tif (is(Model, part)) {\n\t\t\t\tmerge(definition, part.definition)\n\t\t\t\tmerge(defaults, part.default)\n\t\t\t\tnewAssertions.push(...part.assertions)\n\t\t\t}\n\t\t\tif (isFunction(part)) merge(proto, part.prototype)\n\t\t\tif (isObject(part)) merge(definition, part)\n\t\t}\n\n\t\tlet submodel = extendModel(new ObjectModel(definition), this, proto).defaultTo(defaults)\n\t\tsubmodel.assertions = [...this.assertions, ...newAssertions]\n\n\t\tif (getProto(this) !== ObjectModel.prototype) { // extended class\n\t\t\tsubmodel.parentClass = this\n\t\t}\n\n\t\treturn submodel\n\t},\n\n\t[_check](obj, path, errors, stack, shouldCast) {\n\t\tif (isObject(obj)) {\n\t\t\tlet def = this.definition\n\t\t\tcheckDefinition(obj[_original] || obj, def, path, errors, stack, shouldCast)\n\t\t}\n\t\telse stackError(errors, this, obj, path)\n\n\t\tcheckAssertions(obj, this, path, errors)\n\t}\n})\n\nexport const Any = proxify(BasicModel(), {\n\tapply(target, ctx, [def]) {\n\t\treturn Object.assign(Object.create(Any), { definition: def })\n\t}\n})\nAny.definition = Any\nAny.toString = () => \"Any\"\n\nAny.remaining = function (def) { this.definition = def }\nextend(Any.remaining, Any, {\n\ttoString() { return \"...\" + formatDefinition(this.definition) }\n})\nAny[Symbol.iterator] = function* () { yield new Any.remaining(this.definition) }","\nimport { _original, checkAssertions, checkDefinition, initModel, unstackErrors } from \"./object-model.js\"\nimport { has, isFunction, proxify } from \"./helpers.js\"\n\nexport const initListModel = (base, constructor, def, init, clone, mutators, otherTraps) => {\n\n\treturn initModel(def, constructor, base, init, model => Object.assign({\n\t\tgetPrototypeOf: () => model.prototype,\n\t\tget(l, key) {\n\t\t\tif (key === _original) return l\n\n\t\t\tlet val = l[key]\n\t\t\treturn isFunction(val) ? proxify(val, {\n\t\t\t\tapply(fn, ctx, args) {\n\t\t\t\t\tif (has(mutators, key)) {\n\t\t\t\t\t\t// indexes of arguments to check def + cast\n\t\t\t\t\t\tlet [begin, end = args.length - 1, getArgDef] = mutators[key]\n\t\t\t\t\t\tfor (let i = begin; i <= end; i++) {\n\t\t\t\t\t\t\tlet argDef = getArgDef ? getArgDef(i) : model.definition\n\t\t\t\t\t\t\targs[i] = checkDefinition(\n\t\t\t\t\t\t\t\targs[i],\n\t\t\t\t\t\t\t\targDef,\n\t\t\t\t\t\t\t\t`${base.name}.${key} arguments[${i}]`,\n\t\t\t\t\t\t\t\tmodel.errors,\n\t\t\t\t\t\t\t\t[],\n\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (model.assertions.length > 0) {\n\t\t\t\t\t\t\tlet testingClone = clone(l)\n\t\t\t\t\t\t\tfn.apply(testingClone, args)\n\t\t\t\t\t\t\tcheckAssertions(testingClone, model, `after ${key} mutation`)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tunstackErrors(model)\n\t\t\t\t\t}\n\n\t\t\t\t\treturn fn.apply(l, args)\n\t\t\t\t}\n\t\t\t}) : val\n\t\t}\n\t}, otherTraps))\n}","import {\n\t_original, _check, cast, checkAssertions, checkDefinition,\n\textendDefinition, extendModel, formatDefinition, Model, stackError, unstackErrors\n} from \"./object-model.js\"\nimport { initListModel } from \"./list-model.js\"\nimport { extend } from \"./helpers.js\"\n\nexport default function ArrayModel(initialDefinition) {\n\tlet model = initListModel(\n\t\tArray,\n\t\tArrayModel,\n\t\tinitialDefinition,\n\t\ta => Array.isArray(a) ? a.map(arg => cast(arg, model.definition)) : a,\n\t\ta => [...a],\n\t\t{\n\t\t\t\"copyWithin\": [],\n\t\t\t\"fill\": [0, 0],\n\t\t\t\"pop\": [],\n\t\t\t\"push\": [0],\n\t\t\t\"reverse\": [],\n\t\t\t\"shift\": [],\n\t\t\t\"sort\": [],\n\t\t\t\"splice\": [2],\n\t\t\t\"unshift\": [0]\n\t\t},\n\t\t{\n\t\t\tset(arr, key, val) {\n\t\t\t\treturn controlMutation(model, arr, key, val, (a, v) => a[key] = v, true)\n\t\t\t},\n\n\t\t\tdeleteProperty(arr, key) {\n\t\t\t\treturn controlMutation(model, arr, key, undefined, a => delete a[key])\n\t\t\t}\n\t\t}\n\t)\n\n\treturn model\n}\n\nextend(ArrayModel, Model, {\n\ttoString(stack) {\n\t\treturn \"Array of \" + formatDefinition(this.definition, stack)\n\t},\n\n\t[_check](arr, path, errors, stack) {\n\t\tif (Array.isArray(arr))\n\t\t\t(arr[_original] || arr).forEach((a, i) => checkDefinition(a, this.definition, `${path || \"Array\"}[${i}]`, errors, stack))\n\t\telse stackError(errors, this, arr, path)\n\n\t\tcheckAssertions(arr, this, path, errors)\n\t},\n\n\textend(...newParts) {\n\t\treturn extendModel(new ArrayModel(extendDefinition(this.definition, newParts)), this)\n\t}\n})\n\nlet controlMutation = (model, array, key, value, applyMutation, canBeExtended) => {\n\tlet path = `Array[${key}]`\n\tlet isInDef = (+key >= 0 && (canBeExtended || key in array))\n\tif (isInDef) value = checkDefinition(value, model.definition, path, model.errors, [], true)\n\n\tlet testArray = [...array]\n\tapplyMutation(testArray)\n\tcheckAssertions(testArray, model, path)\n\tlet isSuccess = !unstackErrors(model)\n\tif (isSuccess) applyMutation(array, value)\n\treturn isSuccess\n}","import {\n\t_check, cast, checkAssertions, checkDefinition,\n\textendDefinition, extendModel, formatDefinition, Model, stackError\n} from \"./object-model.js\"\nimport { initListModel } from \"./list-model.js\"\nimport { extend, is, isIterable } from \"./helpers.js\"\n\nexport default function SetModel(initialDefinition) {\n\tlet model = initListModel(\n\t\tSet,\n\t\tSetModel,\n\t\tinitialDefinition,\n\t\tit => isIterable(it) ? new Set([...it].map(val => cast(val, model.definition))) : it,\n\t\tset => new Set(set),\n\t\t{\n\t\t\t\"add\": [0, 0],\n\t\t\t\"delete\": [],\n\t\t\t\"clear\": []\n\t\t}\n\t)\n\n\treturn model\n}\n\nextend(SetModel, Model, {\n\ttoString(stack) {\n\t\treturn \"Set of \" + formatDefinition(this.definition, stack)\n\t},\n\n\t[_check](set, path, errors, stack) {\n\t\tif (is(Set, set)) {\n\t\t\tfor (let item of set.values()) {\n\t\t\t\tcheckDefinition(item, this.definition, `${path || \"Set\"} value`, errors, stack)\n\t\t\t}\n\t\t} else stackError(errors, this, set, path)\n\t\tcheckAssertions(set, this, path, errors)\n\t},\n\n\textend(...newParts) {\n\t\treturn extendModel(new SetModel(extendDefinition(this.definition, newParts)), this)\n\t}\n})","import {\n\t_check, cast, checkAssertions, checkDefinition,\n\textendDefinition, extendModel, format, formatDefinition, Model, stackError\n} from \"./object-model.js\"\nimport { initListModel } from \"./list-model.js\"\nimport { extend, is, isIterable } from \"./helpers.js\"\n\nexport default function MapModel(initialKeyDefinition, initialValueDefinition) {\n\tlet getDef = i => i === 0 ? model.definition.key : model.definition.value,\n\t\tmodel = initListModel(\n\t\t\tMap,\n\t\t\tMapModel,\n\t\t\t{ key: initialKeyDefinition, value: initialValueDefinition },\n\t\t\tit => isIterable(it) ? new Map([...it].map(pair => pair.map((x, i) => cast(x, getDef(i))))) : it,\n\t\t\tmap => new Map(map),\n\t\t\t{\n\t\t\t\t\"set\": [0, 1, getDef],\n\t\t\t\t\"delete\": [],\n\t\t\t\t\"clear\": []\n\t\t\t}\n\t\t)\n\n\treturn model\n}\n\nextend(MapModel, Model, {\n\ttoString(stack) {\n\t\treturn `Map of ${formatDefinition(this.definition.key, stack)} : ${formatDefinition(this.definition.value, stack)}`\n\t},\n\n\t[_check](map, path, errors, stack) {\n\t\tif (is(Map, map)) {\n\t\t\tpath = path || \"Map\"\n\t\t\tfor (let [key, value] of map) {\n\t\t\t\tcheckDefinition(key, this.definition.key, `${path} key`, errors, stack)\n\t\t\t\tcheckDefinition(value, this.definition.value, `${path}[${format(key)}]`, errors, stack)\n\t\t\t}\n\t\t} else stackError(errors, this, map, path)\n\n\t\tcheckAssertions(map, this, path, errors)\n\t},\n\n\textend(keyParts, valueParts) {\n\t\treturn extendModel(new MapModel(\n\t\t\textendDefinition(this.definition.key, keyParts),\n\t\t\textendDefinition(this.definition.value, valueParts)\n\t\t), this)\n\t}\n})","import {\n\t_check, _original, Any, checkAssertions, checkDefinition, extendDefinition, extendModel,\n\tformatDefinition, initModel, Model, stackError, unstackErrors\n} from \"./object-model.js\"\nimport { extend, is, isFunction } from \"./helpers.js\"\n\nexport default function FunctionModel(...argsDef) {\n\treturn initModel({ arguments: argsDef }, FunctionModel, Function, null, model => ({\n\t\tgetPrototypeOf: () => model.prototype,\n\n\t\tget(fn, key) {\n\t\t\treturn key === _original ? fn : fn[key]\n\t\t},\n\n\t\tapply(fn, ctx, args) {\n\t\t\tlet def = model.definition,\n\t\t\t\tremainingArgDef = def.arguments.find(argDef => is(Any.remaining, argDef)),\n\t\t\t\tnbArgsToCheck = remainingArgDef ? Math.max(args.length, def.arguments.length - 1) : def.arguments.length\n\n\t\t\tfor (let i = 0; i < nbArgsToCheck; i++) {\n\t\t\t\tlet argDef = remainingArgDef && i >= def.arguments.length - 1 ? remainingArgDef.definition : def.arguments[i]\n\t\t\t\targs[i] = checkDefinition(args[i], argDef, `arguments[${i}]`, model.errors, [], true)\n\t\t\t}\n\n\t\t\tcheckAssertions(args, model, \"arguments\")\n\n\t\t\tlet result\n\t\t\tif (!model.errors.length) {\n\t\t\t\tresult = Reflect.apply(fn, ctx, args)\n\t\t\t\tif (\"return\" in def)\n\t\t\t\t\tresult = checkDefinition(result, def.return, \"return value\", model.errors, [], true)\n\t\t\t}\n\t\t\tunstackErrors(model)\n\t\t\treturn result\n\t\t}\n\t}))\n}\n\nextend(FunctionModel, Model, {\n\ttoString(stack = []) {\n\t\tlet out = `Function(${this.definition.arguments.map(\n\t\t\targDef => formatDefinition(argDef, [...stack])\n\t\t).join(\", \")})`\n\n\t\tif (\"return\" in this.definition) {\n\t\t\tout += \" => \" + formatDefinition(this.definition.return, stack)\n\t\t}\n\t\treturn out\n\t},\n\n\treturn(def) {\n\t\tthis.definition.return = def\n\t\treturn this\n\t},\n\n\textend(newArgs, newReturns) {\n\t\tlet args = this.definition.arguments,\n\t\t\tmixedArgs = newArgs.map((a, i) => extendDefinition(i in args ? args[i] : [], newArgs[i])),\n\t\t\tmixedReturns = extendDefinition(this.definition.return, newReturns)\n\t\treturn extendModel(new FunctionModel(...mixedArgs).return(mixedReturns), this)\n\t},\n\n\t[_check](f, path, errors) {\n\t\tif (!isFunction(f)) stackError(errors, \"Function\", f, path)\n\t}\n})","import { _original, Model, Any, BasicModel, ObjectModel } from \"./object-model.js\"\nimport ArrayModel from \"./array-model.js\"\nimport SetModel from \"./set-model.js\"\nimport MapModel from \"./map-model.js\"\nimport FunctionModel from \"./function-model.js\"\nimport { getProto, is, isFunction, isPlainObject } from \"./helpers.js\"\n\nconst styles = {\n\tlist: \"list-style-type: none; padding: 0; margin: 0;\",\n\tlistItem: \"padding: 0 0 0 1em;\",\n\tmodel: \"color: #3e999f;\",\n\tinstance: \"color: #718c00; font-style: italic\",\n\tfunction: \"color: #4271AE\",\n\tstring: \"color: #C41A16\",\n\tnumber: \"color: #1C00CF\",\n\tboolean: \"color: #AA0D91\",\n\tproperty: \"color: #8959a8\",\n\tprivate: \"color: #C19ED8\",\n\tconstant: \"color: #8959a8; font-weight: bold\",\n\tprivateConstant: \"color: #C19ED8; font-weight: bold\",\n\tnull: \"color: #8e908c\",\n\tundeclared: \"color: #C0C0C0;\",\n\tproto: \"color: #B871BD; font-style: italic\"\n};\n\nconst getModel = (instance) => {\n\tif (instance === undefined || instance === null)\n\t\treturn null\n\n\tlet proto = getProto(instance);\n\tif (!proto || !proto.constructor || !is(Model, proto.constructor))\n\t\treturn null\n\n\treturn proto.constructor\n}\n\nconst span = (style, ...children) => [\"span\", { style }, ...children]\n\nconst format = (x, config = {}) => {\n\tif (x === null || x === undefined)\n\t\treturn span(styles.null, \"\" + x);\n\n\tif (typeof x === \"boolean\")\n\t\treturn span(styles.boolean, x);\n\n\tif (typeof x === \"number\")\n\t\treturn span(styles.number, x);\n\n\tif (typeof x === \"string\")\n\t\treturn span(styles.string, `\"${x}\"`);\n\n\tif (Array.isArray(x) && config.isModelDefinition) {\n\t\tlet def = [];\n\t\tif (x.length === 1) x.push(undefined, null);\n\t\tfor (let i = 0; i < x.length; i++) {\n\t\t\tdef.push(format(x[i], config))\n\t\t\tif (i < x.length - 1) def.push(\" or \")\n\t\t}\n\t\treturn span(\"\", ...def)\n\t}\n\n\tif (isPlainObject(x))\n\t\treturn formatObject(x, getModel(x), config)\n\n\tif (isFunction(x) && !is(Model, x) && config.isModelDefinition)\n\t\treturn span(styles.function, x.name || x.toString());\n\n\treturn [\"object\", { object: x, config }]\n}\n\nconst formatObject = (o, model, config) => span(\"\",\n\t\"{\",\n\t[\"ol\", { style: styles.list }, ...Object.keys(o).map(prop =>\n\t\t[\"li\", { style: styles.listItem }, span(styles.property, prop), \": \", format(o[prop], config)])\n\t],\n\t\"}\"\n)\n\nconst formatModel = model => {\n\tconst parts = [],\n\t\tcfg = { isModelDefinition: true },\n\t\tdef = model.definition,\n\t\tformatList = (list, map) => list.reduce((r, e) => [...r, map(e), \", \"], []).slice(0, 2 * list.length - 1);\n\n\tif (is(BasicModel, model)) parts.push(format(def, cfg))\n\tif (is(ArrayModel, model)) parts.push(\"Array of \", format(def, cfg))\n\tif (is(SetModel, model)) parts.push(\"Set of \", format(def, cfg))\n\tif (is(MapModel, model)) parts.push(\"Map of \", format(def.key, cfg), \" : \", format(def.value, cfg))\n\tif (is(FunctionModel, model)) {\n\t\tparts.push(\"Function(\", ...formatList(def.arguments, arg => format(arg, cfg)), \")\")\n\t\tif (\"return\" in def) parts.push(\" => \", format(def.return, cfg))\n\t}\n\n\tif (model.assertions.length > 0) {\n\t\tparts.push(\"\\n(assertions: \", ...formatList(model.assertions, f => [\"object\", { object: f }]), \")\")\n\t}\n\n\treturn span(styles.model, ...parts)\n}\n\nconst ModelFormatter = {\n\theader(x, config = {}) {\n\t\tif (x === Any)\n\t\t\treturn span(styles.model, \"Any\")\n\n\t\tif (is(Any.remaining, x))\n\t\t\treturn span(styles.model, \"...\", format(x.definition, { isModelDefinition: true }))\n\n\t\tif (is(ObjectModel, x))\n\t\t\treturn span(styles.model, x.name)\n\n\t\tif (is(Model, x)) {\n\t\t\treturn formatModel(x)\n\t\t}\n\n\t\tif (config.isModelDefinition && isPlainObject(x))\n\t\t\treturn format(x, config)\n\n\t\treturn null;\n\t},\n\thasBody(x) {\n\t\treturn is(ObjectModel, x)\n\t},\n\tbody(model) {\n\t\treturn span(\"\",\n\t\t\t\"{\",\n\t\t\t[\"ol\", { style: styles.list }, ...Object.keys(model.definition).map(prop => {\n\t\t\t\tlet isPrivate = model.conventionForPrivate(prop),\n\t\t\t\t\tisConstant = model.conventionForConstant(prop),\n\t\t\t\t\thasDefault = model.default && model.default.hasOwnProperty(prop),\n\t\t\t\t\tstyle = styles.property;\n\n\t\t\t\tif (isPrivate) {\n\t\t\t\t\tstyle = isConstant ? styles.privateConstant : styles.private\n\t\t\t\t} else if (isConstant) {\n\t\t\t\t\tstyle = styles.constant\n\t\t\t\t}\n\n\t\t\t\treturn [\"li\", { style: styles.listItem },\n\t\t\t\t\tspan(style, prop), \": \", format(model.definition[prop], { isModelDefinition: true }),\n\t\t\t\t\thasDefault ? span(styles.proto, \" = \", format(model.default[prop])) : \"\"\n\t\t\t\t]\n\t\t\t})],\n\t\t\t\"}\"\n\t\t)\n\t}\n}\n\nconst ModelInstanceFormatter = {\n\theader(x, config = {}) {\n\t\tif (config.isInstanceProperty && isPlainObject(x)) {\n\t\t\treturn format(x, config)\n\t\t}\n\n\t\tlet model = getModel(x);\n\t\tif (is(Model, model)) {\n\t\t\tlet parts = is(ObjectModel, model) ? [model.name] : [[\"object\", { object: x[_original] }], ` (${model.name})`];\n\t\t\treturn span(styles.instance, ...parts)\n\t\t}\n\n\t\treturn null;\n\t},\n\thasBody(x) {\n\t\treturn x && is(ObjectModel, getModel(x))\n\t},\n\tbody(x) {\n\t\tconst model = getModel(x)\n\t\tconst o = x[_original] || x;\n\t\treturn span(\"\",\n\t\t\t\"{\",\n\t\t\t[\n\t\t\t\t\"ol\",\n\t\t\t\t{ style: styles.list },\n\t\t\t\t...Object.keys(o).map(prop => {\n\t\t\t\t\tlet isPrivate = model.conventionForPrivate(prop),\n\t\t\t\t\t\tisConstant = model.conventionForConstant(prop),\n\t\t\t\t\t\tisDeclared = prop in model.definition,\n\t\t\t\t\t\tstyle = styles.property;\n\n\t\t\t\t\tif (!isDeclared) {\n\t\t\t\t\t\tstyle = styles.undeclared\n\t\t\t\t\t} else if (isPrivate) {\n\t\t\t\t\t\tstyle = isConstant ? styles.privateConstant : styles.private\n\t\t\t\t\t} else if (isConstant) {\n\t\t\t\t\t\tstyle = styles.constant\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [\"li\", { style: styles.listItem },\n\t\t\t\t\t\tspan(style, prop), \": \", format(o[prop], { isInstanceProperty: true })\n\t\t\t\t\t]\n\t\t\t\t}),\n\t\t\t\t[\"li\", { style: styles.listItem },\n\t\t\t\t\tspan(styles.proto, \"__proto__\", \": \", [\"object\", { object: getProto(x) }])\n\t\t\t\t]\n\t\t\t],\n\t\t\t\"}\"\n\t\t)\n\t}\n}\n\nif (typeof window !== \"undefined\") {\n\twindow.devtoolsFormatters = (window.devtoolsFormatters || [])\n\t\t.concat(ModelFormatter, ModelInstanceFormatter);\n}"],"names":["controlMutation","format"],"mappings":"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"}